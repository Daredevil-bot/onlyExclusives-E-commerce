"use strict";(self.webpackChunkecommerce_app=self.webpackChunkecommerce_app||[]).push([[71],{2348:(e,s,t)=>{t.d(s,{A:()=>j});var a=t(9379),l=t(5043),c=t(6655),i=t(976),r=t(9335),o=t(6191),n=t(3761),d=t(5475),p=t(3536),h=t.n(p),u=t(4556),x=t(579);const{Meta:g}=c.A,j=e=>{let{product:s}=e;const t=(0,u.wA)(),{user:p,cart:j}=(0,u.d4)(e=>(0,a.A)({},e)),[m,b]=(0,l.useState)("Click to add"),{title:N,description:A,images:y,slug:f,price:v}=s;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(c.A,{cover:(0,x.jsx)("img",{src:y&&y.length?y[0].url:r,style:{height:"350px",objectFit:"contain"},className:"p-1"}),actions:[(0,x.jsxs)(d.N_,{to:"/product/".concat(f),children:[(0,x.jsx)(o.A,{className:"text-warning"}),(0,x.jsx)("br",{}),"View Product "]}),(0,x.jsxs)(i.A,{title:m,children:[(0,x.jsxs)("a",{onClick:()=>{let e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push((0,a.A)((0,a.A)({},s),{},{count:1}));let l=h().uniqWith(e,h().isEqual);localStorage.setItem("cart",JSON.stringify(l)),t({type:"ADD_TO_CART",payload:l}),t({type:"SET_VISIBLE",payload:!0}),b("Added")}},children:[(0,x.jsx)(n.A,{className:"text-danger"}),(0,x.jsx)("br",{}),"Add to Cart"]}),","]})],className:"mb-2",children:(0,x.jsx)(g,{title:"".concat(N,"-Rs").concat(v),description:"".concat(A&&A.substring(0,40),"...")})})})}},6825:(e,s,t)=>{t.d(s,{Gc:()=>p,JO:()=>i,OF:()=>d,WY:()=>c,d$:()=>n,e7:()=>h,jj:()=>u,oo:()=>o,qY:()=>r});var a=t(854),l=t.n(a);const c=async(e,s)=>await l().post("http://localhost:8000/api/product",e,{headers:{authtoken:s}}),i=async e=>await l().get("http://localhost:8000/api/products/".concat(e)),r=async(e,s)=>await l().delete("http://localhost:8000/api/product/".concat(e),{headers:{authtoken:s}}),o=async e=>await l().get("http://localhost:8000/api/product/".concat(e)),n=async(e,s,t)=>(console.log("in"),console.log(t),await l().post("http://localhost:8000/api/products",{sort:e,order:s,page:t})),d=async()=>await l().get("http://localhost:8000/api/products/total"),p=async(e,s,t)=>await l().put("http://localhost:8000/api/product/star/".concat(e),{star:s},{headers:{authtoken:t}}),h=async e=>(console.log("rel"),await l().get("http://localhost:8000/api/product/related/".concat(e))),u=async e=>await l().post("http://localhost:8000/api/search/filters",e)},9335:(e,s,t)=>{e.exports=t.p+"static/media/laptop.00efca79d04f6275b91d.png"},9419:(e,s,t)=>{t.r(s),t.d(s,{default:()=>I});var a=t(9379),l=t(5043),c=t(3216),i=t(6825),r=t(6655),o=t(3099),n=t(976),d=t(5475),p=t(3761),h=t(9380),u=(t(2502),t(1577)),x=t(9335),g=t(579);const j=e=>{let{product:s}=e;const{price:t,category:a,subs:l,color:c,brand:i,quantity:r,sold:o,shipping:n}=s;return(0,g.jsxs)("ul",{className:"list-group",children:[(0,g.jsxs)("li",{className:"list-group-item",children:["Price"," ",(0,g.jsxs)("span",{children:["$",t]})]}),a&&(0,g.jsxs)("li",{className:"list-group-item",children:["Category:"," ",(0,g.jsxs)(d.N_,{to:"/category/".concat(a.slug),className:"label label-default label-pill pull-xs-right",children:[":",a.name]})]}),l&&(0,g.jsxs)("li",{className:"list-group-item",children:["Sub-Category"," ",l.map(e=>(0,g.jsx)(d.N_,{to:"/sub/".concat(e.slug),className:"label label-default label-pill pull-xs-right",children:e.name},e._id))]}),(0,g.jsxs)("li",{className:"list-group-item",children:["Shipping"," ",(0,g.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:[":",n]})]}),(0,g.jsxs)("li",{className:"list-group-item",children:["Color"," ",(0,g.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:[":",c]})]}),(0,g.jsxs)("li",{className:"list-group-item",children:["Brand"," ",(0,g.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:[":",i]})]}),(0,g.jsxs)("li",{className:"list-group-item",children:["Available"," ",(0,g.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:[":",r]})]}),(0,g.jsxs)("li",{className:"list-group-item",children:["Sold"," ",(0,g.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:[":",o]})]})]})};var m=t(7282),b=t(1377),N=t(9628),A=t(4556),y=t(9654);const f=e=>{let{children:s}=e;const{user:t}=(0,A.d4)(e=>(0,a.A)({},e)),[i,r]=(0,l.useState)(!1);let o=(0,c.Zp)(),n=(0,c.g)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{onClick:()=>{t&&t.token?r(!0):o({pathname:"/login",state:{from:"product/".concat(n.slug)}})},children:[(0,g.jsx)(y.A,{className:"test-danger"}),(0,g.jsx)("br",{})," ",t?"Leave Rating":"Login to leave rating"]}),(0,g.jsx)(b.A,{title:"Leave a rating",centered:!0,visible:i,onOk:()=>{r(!1),N.oR.success("Thanks for your review ")},onCancel:()=>r(!1),children:s})]})};var v=t(3536),S=t.n(v);const{Meta:w}=r.A,{TabPane:C}=o.A,k=e=>{let{product:s,onStarClick:t,star:c}=e;const i=(0,A.wA)(),{user:b,cart:N}=(0,A.d4)(e=>(0,a.A)({},e)),[y,v]=(0,l.useState)("Click to add"),{title:w,images:k,description:_,_id:I}=s;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"container",children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)("div",{className:"col",children:[k&&k.length?(0,g.jsx)(u.FN,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:k&&k.map(e=>(0,g.jsx)("img",{src:e.url},e.public_id))}):(0,g.jsx)(r.A,{cover:(0,g.jsx)("img",{src:k&&k.length?k[0].url:x,style:{objectFit:"cover"},className:"p-1"})}),(0,g.jsxs)(o.A,{type:"card",children:[(0,g.jsx)(C,{tab:"Description",children:_&&_},"1"),(0,g.jsx)(C,{tab:"More",style:{height:"50px"},children:"Call us"},"2")]})]}),(0,g.jsxs)("div",{className:"col",children:[(0,g.jsx)("h1",{className:"bg-info p-3 ",children:w}),(0,g.jsx)(r.A,{actions:[(0,g.jsx)(n.A,{title:y,children:(0,g.jsxs)("a",{onClick:()=>{let e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push((0,a.A)((0,a.A)({},s),{},{count:1}));let t=S().uniqWith(e,S().isEqual);localStorage.setItem("cart",JSON.stringify(t)),i({type:"ADD_TO_CART",payload:t}),i({type:"SET_VISIBLE",payload:!0}),v("Added")}},children:[(0,g.jsx)(p.A,{className:"text-success"}),(0,g.jsx)("br",{}),"Add to Cart"]})}),(0,g.jsxs)(d.N_,{to:"/",children:[(0,g.jsx)(h.A,{className:"text-info"}),(0,g.jsx)("br",{})," Add to Wishlist"]}),(0,g.jsx)(f,{children:(0,g.jsx)(m.A,{name:I,numberOfStars:5,rating:c,changeRating:t,isSelectable:!0,starRatedColor:"red"})})],children:(0,g.jsx)(j,{product:s})})]})]})})})};var _=t(2348);const I=()=>{const{user:e}=(0,A.d4)(e=>(0,a.A)({},e)),[s,t]=(0,l.useState)([]),[r,o]=(0,l.useState)([]),[n,d]=(0,l.useState)(0);let p=(0,c.g)();(0,l.useEffect)(()=>{h()},[]);const h=async()=>{(0,i.oo)(p.slug).then(e=>{t(e.data),console.log(e.data),(0,i.e7)(e.data._id).then(e=>{o(e.data),console.log(e.data)})})};return(0,g.jsxs)("div",{className:"container-fluid",children:[(0,g.jsx)("div",{className:"row pt-4",children:(0,g.jsx)(k,{product:s,onStarClick:(s,t)=>{d(s),(0,i.Gc)(t,s,e.token).then(e=>{console.log(e.data)})},star:n})}),(0,g.jsx)("div",{className:"row",children:(0,g.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[(0,g.jsx)("hr",{}),(0,g.jsx)("h4",{children:"Related Products"}),(0,g.jsx)("hr",{})]})}),(0,g.jsx)("div",{className:"container",children:(0,g.jsx)("div",{className:"row",children:r.length?r.map(e=>(0,g.jsxs)("div",{className:"col-4",children:[" ",(0,g.jsx)(_.A,{product:e})," "]},e._id)):(0,g.jsx)("div",{children:" No Product"})})})]})}}}]);
//# sourceMappingURL=71.5ce44684.chunk.js.map