{"version":3,"file":"static/js/190.0c51412c.chunk.js","mappings":"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","sources":["../node_modules/antd/es/_util/reactNode.js","../node_modules/antd/es/config-provider/SizeContext.js","../node_modules/@ant-design/icons-svg/es/asn/MailOutlined.js","../node_modules/@ant-design/icons/es/icons/MailOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/GoogleOutlined.js","../node_modules/@ant-design/icons/es/icons/GoogleOutlined.js","pages/auth/Login.js","../node_modules/rc-util/es/omit.js"],"sourcesContent":["import * as React from 'react';\nvar isValidElement = React.isValidElement;\nexport { isValidElement };\nexport function isFragment(child) {\n  return child && isValidElement(child) && child.type === React.Fragment;\n}\nexport function replaceElement(element, replacement, props) {\n  if (!isValidElement(element)) {\n    return replacement;\n  }\n  return /*#__PURE__*/React.cloneElement(element, typeof props === 'function' ? props(element.props || {}) : props);\n}\nexport function cloneElement(element, props) {\n  return replaceElement(element, element, props);\n}","import * as React from 'react';\nvar SizeContext = /*#__PURE__*/React.createContext(undefined);\nexport var SizeContextProvider = function SizeContextProvider(_ref) {\n  var children = _ref.children,\n    size = _ref.size;\n  return /*#__PURE__*/React.createElement(SizeContext.Consumer, null, function (originSize) {\n    return /*#__PURE__*/React.createElement(SizeContext.Provider, {\n      value: size || originSize\n    }, children);\n  });\n};\nexport default SizeContext;","// This icon file is generated automatically.\nvar MailOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z\" } }] }, \"name\": \"mail\", \"theme\": \"outlined\" };\nexport default MailOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MailOutlinedSvg from \"@ant-design/icons-svg/es/asn/MailOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar MailOutlined = function MailOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: MailOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(MailOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'MailOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar GoogleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z\" } }] }, \"name\": \"google\", \"theme\": \"outlined\" };\nexport default GoogleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport GoogleOutlinedSvg from \"@ant-design/icons-svg/es/asn/GoogleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar GoogleOutlined = function GoogleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: GoogleOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(GoogleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'GoogleOutlined';\n}\nexport default RefIcon;","import React,{useState,useEffect} from 'react'\nimport  {auth, googleAuthProvider} from \"../../firebase\"\nimport {toast} from \"react-toastify\"\nimport \"react-toastify/dist/ReactToastify.css\"\nimport { Button } from 'antd'\nimport { MailOutlined ,GoogleOutlined } from '@ant-design/icons';\nimport { useDispatch,useSelector } from 'react-redux'\nimport { Link, useNavigate } from 'react-router-dom'\nimport axios from \"axios\"\nconst Register = () => {\n    let navigate=useNavigate()\n    const roleBasedRedirect=(res)=>{\n        let intended=navigate.location.state\n        if(intended){\n            navigate(intended.from)\n        }\n        else{\n            if(res.data.role===\"admin\"){\n                navigate('/admin/dashboard')\n            }\n            else{\n                navigate('/user/history')\n            }\n        }\n       \n    }\nconst {user} = useSelector((state)=>({...state}))\nuseEffect(()=>{\n    if(user && user.token ){ navigate('/')}\n},[user,navigate])\n\nconst createUpdate=async (authtoken)=>{\n    return await axios.post(\"http://localhost:8000/api/create-and-update-user\",{},{              //axios is sending request to middleware having url as first argument   \n        headers:{\n            authtoken\n        }\n    } )\n}    \nconst[email,setemail]=useState('');\nconst [pass,setpass]=useState('')\nlet dispatch=useDispatch();\nconst googlelogin=async (e)=>{\n    auth.signInWithPopup(googleAuthProvider)\n    .then(async (result)=>{\n        const{user}=result\n        const idToken=await user.getIdTokenResult()\n        createUpdate(idToken.token)\n        .then((res)=>{\n        dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload :{                                //res here deines response from backend as axios made a post request\n                name: res.data.name,\n                email:res.data.email,\n                token:idToken.token,\n                role:res.data.role,\n                _id:res.data._id\n            }\n        });\n        \n        \n        navigate('/')\n        roleBasedRedirect(res)\n    })\n        \n    })\n    .catch((err)=>{\n        console.log(err)\n        toast.error(err.message);\n\n    })\n\n}\nconst handleClick=async (e)=>{\n   \n try{\n    const result=await auth.signInWithEmailAndPassword(email,pass)\n    const{user} =result;\n    const idToken=await user.getIdTokenResult();\n   //sending token to middleware to validate\n   //\n\n\n   createUpdate(idToken.token)\n   .then((res)=>{\n    dispatch({\n        type: \"LOGGED_IN_USER\",\n        payload :{                                //res here deines response from backend as axios made a post request\n            name: res.data.name,\n            email:res.data.email,\n            token:idToken.token,\n            role:res.data.role,\n            _id:res.data._id\n        }\n    });\n    roleBasedRedirect(res)\n})\n  .catch(err=>console.log(err))\n }\n catch(error){\n     console.log(error)\n     toast.error(error.message)\n\n }\n}\n\n    \n\n    \n    return (\n        <>\n       <div className=\"container p-5 \" style={{margin:\"0px 400px 100px\"}} >\n           <h4 >Login</h4>\n\n       <div className='row'>\n           <div className='col-mid-3 offset col-mid-6'>\n               \n      \n       <form onSubmit={handleClick} >\n            <input\n            type='email'\n            className='form-control'\n            style={{width:\"600px\",margin:\"20px 0px 0px 0px\"}}\n            value={email}\n            onChange={e=>{setemail(e.target.value)}}    \n            placeholder='Your email'\n            autoFocus\n            ></input>\n             <input\n            type='password'\n            className='form-control'\n            style={{width:\"600px\",margin:\"25px 0px 0px 0px\"}}\n            value={pass}\n            onChange={e=>{setpass(e.target.value)}}\n            placeholder='Your password'\n            ></input>\n            <Button\n            type=\"primary\"\n            className='mb-3'\n            style={{width : \"600px\",margin : \"30px 0px 0px 0px\",display:\"block\"}}\n            shape='round'\n            size=\"large\"\n            width=\"600px\"\n            block\n            icon={<MailOutlined/>}\n            disabled={!email || !pass}\n            onClick={handleClick}\n\n            >\n                Log in with Email/Password\n            </Button>\n            <Button\n            type=\"danger\"\n            className='mb-3'\n            style={{width : \"600px\",margin : \"25px 0px 0px 0px\"}}\n            shape='round'\n            size=\"large\"\n            width=\"600px\"\n            block\n            icon={<GoogleOutlined/>}\n            \n            onClick={googlelogin}\n            >\n                Log in with Google\n            </Button >\n            <Button type=\"link\" style={{display:\"block\" ,margin:\"0px 0px 0px 450px\"}}  >\n                <Link to=\"/forgot/password\"></Link>Forgot password? </Button>\n\n        </form>\n        </div>\n       </div>\n       \n       </div>\n\n        </>\n    )\n\n}\nexport default Register\n","export default function omit(obj, fields) {\n  var clone = Object.assign({}, obj);\n  if (Array.isArray(fields)) {\n    fields.forEach(function (key) {\n      delete clone[key];\n    });\n  }\n  return clone;\n}"],"names":["isValidElement","React","isFragment","child","type","cloneElement","element","props","replacement","replaceElement","SizeContext","undefined","SizeContextProvider","_ref","children","size","Consumer","originSize","Provider","value","MailOutlined","ref","AntdIcon","_objectSpread","icon","MailOutlinedSvg","GoogleOutlined","GoogleOutlinedSvg","Register","navigate","useNavigate","roleBasedRedirect","res","intended","location","state","from","data","role","user","useSelector","useEffect","token","createUpdate","async","axios","headers","authtoken","email","setemail","useState","pass","setpass","dispatch","useDispatch","handleClick","result","auth","signInWithEmailAndPassword","idToken","getIdTokenResult","then","payload","name","_id","catch","err","console","log","error","toast","message","_jsx","_Fragment","_jsxs","className","style","margin","onSubmit","width","onChange","e","target","placeholder","autoFocus","Button","display","shape","block","disabled","onClick","signInWithPopup","googleAuthProvider","Link","to","omit","obj","fields","clone","Object","assign","Array","isArray","forEach","key"],"sourceRoot":""}