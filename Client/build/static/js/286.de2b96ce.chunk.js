"use strict";(self.webpackChunkecommerce_app=self.webpackChunkecommerce_app||[]).push([[286,706],{912:(e,t,a)=>{a.d(t,{K7:()=>o,bW:()=>n,ee:()=>d,p7:()=>c,st:()=>r,zZ:()=>i});var s=a(854),l=a.n(s);const n=async()=>await l().get("http://localhost:8000/api/categories"),c=async e=>await l().get("http://localhost:8000/api/category/".concat(e)),o=async(e,t)=>await l().delete("http://localhost:8000/api/category/".concat(e),{headers:{authtoken:t}}),i=async(e,t)=>(console.log("hey"),await l().post("http://localhost:8000/api/category",e,{headers:{authtoken:t}})),r=async(e,t,a)=>await l().put("http://localhost:8000/api/category/".concat(e),t,{headers:{authtoken:a}}),d=async e=>await l().get("http://localhost:8000/api/category/subs/".concat(e))},2348:(e,t,a)=>{a.d(t,{A:()=>g});var s=a(9379),l=a(5043),n=a(6655),c=a(976),o=a(9335),i=a(6191),r=a(3761),d=a(5475),p=a(3536),h=a.n(p),x=a(4556),m=a(579);const{Meta:u}=n.A,g=e=>{let{product:t}=e;const a=(0,x.wA)(),{user:p,cart:g}=(0,x.d4)(e=>(0,s.A)({},e)),[j,y]=(0,l.useState)("Click to add"),{title:v,description:b,images:N,slug:f,price:A}=t;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(n.A,{cover:(0,m.jsx)("img",{src:N&&N.length?N[0].url:o,style:{height:"350px",objectFit:"contain"},className:"p-1"}),actions:[(0,m.jsxs)(d.N_,{to:"/product/".concat(f),children:[(0,m.jsx)(i.A,{className:"text-warning"}),(0,m.jsx)("br",{}),"View Product "]}),(0,m.jsxs)(c.A,{title:j,children:[(0,m.jsxs)("a",{onClick:()=>{let e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push((0,s.A)((0,s.A)({},t),{},{count:1}));let l=h().uniqWith(e,h().isEqual);localStorage.setItem("cart",JSON.stringify(l)),a({type:"ADD_TO_CART",payload:l}),a({type:"SET_VISIBLE",payload:!0}),y("Added")}},children:[(0,m.jsx)(r.A,{className:"text-danger"}),(0,m.jsx)("br",{}),"Add to Cart"]}),","]})],className:"mb-2",children:(0,m.jsx)(u,{title:"".concat(v,"-Rs").concat(A),description:"".concat(b&&b.substring(0,40),"...")})})})}},2848:(e,t,a)=>{a.d(t,{P1:()=>i,Vt:()=>c,cH:()=>o,y:()=>n});var s=a(854),l=a.n(s);const n=async()=>await l().get("http://localhost:8000/api/subs"),c=async e=>(console.log("inaxi"),await l().get("http://localhost:8000/api/sub/".concat(e))),o=async(e,t)=>await l().delete("http://localhost:8000/api/sub/".concat(e),{headers:{authtoken:t}}),i=async(e,t)=>(console.log("hey"),await l().post("http://localhost:8000/api/sub",e,{headers:{authtoken:t}}))},3780:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(9379),l=(a(5043),a(8564)),n=a.n(l),c=a(854),o=a.n(c),i=a(4556),r=a(9644),d=a(5832),p=a(579);const h=e=>{let{values:t,setValues:a}=e;const{user:l}=(0,i.d4)(e=>(0,s.A)({},e));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"row btn btn-primary",children:(0,p.jsxs)("label",{children:[" Choose Files",(0,p.jsx)("input",{type:"file",multiple:!0,accept:"images/*",hidden:!0,onChange:e=>{let c=e.target.files,i=t.images;if(c)for(let r=0;r<c.length;r++)n().imageFileResizer(c[r],720,720,"JPEG",100,0,e=>{o().post("http://localhost:8000/api/uploadimages",{image:e},{headers:{authtoken:l?l.token:""}}).then(e=>{console.log("IMAGE UPLOAD RESPONSE DATA",e.data),i.push(e.data),a((0,s.A)((0,s.A)({},t),{},{images:i}))}).catch(e=>{console.log(e)})},"base64")}})]})}),(0,p.jsx)("div",{className:"row",children:t.images&&t.images.map(e=>(0,p.jsx)(d.A,{count:"X",onClick:()=>{return n=e.public_id,void o().post("http://localhost:8000/api/removeimage",{public_id:n},{headers:{authtoken:l?l.token:""}}).then(e=>{const{images:l}=t;let c=l.filter(e=>e.public_id!=n);a((0,s.A)((0,s.A)({},t),{},{images:c}))}).catch(e=>{console.log(e)});var n},style:{cursor:"pointer"},children:(0,p.jsx)(r.A,{src:e.url,size:120,shape:"square",className:"ml-3"})},e.public_id))})]})}},4706:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(5043),l=a(6825),n=a(8023),c=a.n(n),o=a(579);const i=e=>{let{text:t}=e;return(0,o.jsx)("div",{children:(0,o.jsx)(c(),{options:{strings:t,autoStart:!0,loop:!0}})})};var r=a(5475),d=a(2848);const p=()=>{const[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{l(!0),(0,d.y)().then(e=>{t(e.data)}),l(!1)},[]);return(0,o.jsx)("div",{className:"container",children:(0,o.jsx)("div",{className:"row",children:a?(0,o.jsx)("h4",{children:"Loading...."}):e.map(e=>(0,o.jsx)("div",{className:"col btn btn-outlined-primary btn-lg btn-block btn-raised m-3",children:(0,o.jsx)(r.N_,{to:"sub/".concat(e.slug),children:e.name})},e._id))})})};var h=a(2348),x=a(460);const m=()=>(0,o.jsx)(x.A,{active:!0});var u=a(1925);const g=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[c,i]=(0,s.useState)(0),[r,d]=(0,s.useState)(1);(0,s.useEffect)(()=>{p()},[r]),(0,s.useEffect)(()=>{(0,l.OF)().then(e=>i(e.data))},[]);const p=()=>{n(!0),console.log("hey"),(0,l.d$)("createdAt","desc",r).then(a=>{t(a.data),console.log(e)}).catch(e=>{console.log(e)}),n(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"container",children:a?(0,o.jsx)(m,{}):(0,o.jsx)("div",{className:"row",children:e.map(e=>(0,o.jsx)("div",{className:"col-4",children:(0,o.jsx)(h.A,{product:e})},e._id))})}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:" mt-4 md-4 text-center",children:(0,o.jsx)(u.A,{current:r,total:10*Math.round(c/3),onChange:e=>d(e)})})})]})},j=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[c,i]=(0,s.useState)(0),[r,d]=(0,s.useState)(1);(0,s.useEffect)(()=>{p()},[r]),(0,s.useEffect)(()=>{(0,l.OF)().then(e=>i(e.data))});const p=()=>{n(!0),(0,l.d$)("sold","desc",r).then(a=>{t(a.data),console.log(e)}).catch(e=>{console.log(e)}),n(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"container",children:a?(0,o.jsx)(m,{}):(0,o.jsx)("div",{className:"row",children:e.map(e=>(0,o.jsx)("div",{className:"col-4",children:(0,o.jsx)(h.A,{product:e})},e._id))})}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:" mt-4 md-4 text-center",children:(0,o.jsx)(u.A,{current:r,total:10*Math.round(c/3),onChange:e=>d(e)})})})]})};var y=a(4892);const v=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1);(0,s.useEffect)(()=>{c()},[]);const c=()=>{n(!0),(0,l.d$)("createdAt","desc",3).then(a=>{t(a.data),console.log(e)}).catch(e=>{console.log(e)}),n(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mt-4 p-5 bg-light text-danger rounded h1 font-weight-bold text-center",children:(0,o.jsx)(i,{text:["Latest Products","New Arrivals","Best Sellers"]})}),(0,o.jsx)("h3",{className:"mt-4 mb-5 p-5 bg-light text-black rounded text-center  font-weight-italic",children:" New Arrivals"}),(0,o.jsx)(g,{}),(0,o.jsx)("h3",{className:"mt-4 mb-5 p-5 bg-light text-black rounded text-center  font-weight-italic",children:" Best Sellers"}),(0,o.jsx)(j,{}),(0,o.jsx)("h3",{className:"mt-4 mb-4 p-4 bg-light text-black rounded text-center  font-weight-italic",children:" Categories"}),(0,o.jsx)(y.A,{}),(0,o.jsx)("h3",{className:"mt-4 mb-4 p-4 bg-light text-black rounded text-center  font-weight-italic",children:" Sub-Categories"}),(0,o.jsx)(p,{})]})}},4892:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(5043),l=a(5475),n=a(912),c=a(579);const o=()=>{const[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{o(!0),(0,n.bW)().then(e=>{t(e.data)}),o(!1)},[]);return(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row",children:a?(0,c.jsx)("h4",{children:"Loading...."}):e.map(e=>(0,c.jsx)("div",{className:"col btn btn-outlined-primary btn-lg btn-block btn-raised m-3",children:(0,c.jsx)(l.N_,{to:"category/".concat(e.slug),children:e.name})},e._id))})})}},5343:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(5475),l=a(579);const n=()=>(0,l.jsx)("nav",{children:(0,l.jsxs)("ul",{className:"nav flex-column  ",children:[(0,l.jsx)("li",{className:"nav-item",style:{display:"inline"},children:(0,l.jsx)(s.N_,{to:"/admin/dashboard",className:"nav-link",style:{display:"inline-block",margin:"10px 0px 0px 0px "},children:(0,l.jsx)("span",{children:"DASHBOARD"})})}),(0,l.jsx)("li",{className:"nav-item",style:{display:"inline"},children:(0,l.jsx)(s.N_,{to:"/admin/product",className:"nav-link",style:{display:"inline-block",margin:"10px 0px 0px 0px "},children:"PRODUCT"})}),(0,l.jsx)("li",{className:"nav-item",style:{display:"inline"},children:(0,l.jsx)("span",{children:(0,l.jsx)(s.N_,{to:"/admin/products",className:"nav-link",style:{display:"inline-block",margin:"10px 0px 0px 0px "},children:"PROUCTS"})})}),(0,l.jsx)("li",{className:"nav-item",style:{display:"inline"},children:(0,l.jsx)(s.N_,{to:"/admin/category",className:"nav-link",style:{display:"inline-block",margin:"10px 0px 0px 0px "},children:"CATEGORY"})}),(0,l.jsx)("li",{className:"nav-item",style:{display:"inline"},children:(0,l.jsx)(s.N_,{to:"/admin/sub",className:"nav-link",style:{display:"inline-block",margin:"10px 0px 0px 0px "},children:"SUB_CATEGORY"})}),(0,l.jsx)("li",{className:"nav-item",style:{display:"inline"},children:(0,l.jsx)(s.N_,{to:"/user/password",className:"nav-link",style:{display:"inline-block",margin:"10px 0px 0px 0px "},children:"PASSWORD"})})]})})},6825:(e,t,a)=>{a.d(t,{Gc:()=>p,JO:()=>c,OF:()=>d,WY:()=>n,d$:()=>r,e7:()=>h,jj:()=>x,oo:()=>i,qY:()=>o});var s=a(854),l=a.n(s);const n=async(e,t)=>await l().post("http://localhost:8000/api/product",e,{headers:{authtoken:t}}),c=async e=>await l().get("http://localhost:8000/api/products/".concat(e)),o=async(e,t)=>await l().delete("http://localhost:8000/api/product/".concat(e),{headers:{authtoken:t}}),i=async e=>await l().get("http://localhost:8000/api/product/".concat(e)),r=async(e,t,a)=>(console.log("in"),console.log(a),await l().post("http://localhost:8000/api/products",{sort:e,order:t,page:a})),d=async()=>await l().get("http://localhost:8000/api/products/total"),p=async(e,t,a)=>await l().put("http://localhost:8000/api/product/star/".concat(e),{star:t},{headers:{authtoken:a}}),h=async e=>(console.log("rel"),await l().get("http://localhost:8000/api/product/related/".concat(e))),x=async e=>await l().post("http://localhost:8000/api/search/filters",e)},8286:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(9379),l=a(5043),n=a(4556),c=a(9628),o=a(912),i=a(6825),r=a(5343),d=a(3780),p=a(579);const h={title:"",description:"",price:"",categories:[],category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue","Red"],color:"",brands:["Apple","Lenovo","ASUS","Dell","HP","Microsoft"],brand:""},x=()=>{const[e,t]=(0,l.useState)(h),{user:a}=(0,n.d4)(e=>(0,s.A)({},e)),[x,m]=(0,l.useState)([]),{title:u,description:g,price:j,categories:y,category:v,subs:b,shipping:N,quantity:f,images:A,colors:w,brands:S,color:k,brand:C}=e;(0,l.useEffect)(()=>{_()},[]);const _=()=>(0,o.bW)().then(a=>t((0,s.A)((0,s.A)({},e),{},{categories:a.data}))),E=a=>{a.preventDefault(),t((0,s.A)((0,s.A)({},e),{},{[a.target.name]:a.target.value}))};return(0,p.jsx)("div",{className:"container-fluid",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col",children:(0,p.jsx)(r.A,{})}),(0,p.jsxs)("div",{className:"col-10",children:[(0,p.jsx)("h3",{children:" Create Product page"}),(0,p.jsxs)("div",{children:[(0,p.jsx)(d.A,{values:e,setValues:t})," "]}),(0,p.jsxs)("form",{onSubmit:t=>{t.preventDefault(),console.log(e),(0,i.WY)(e,a.token).then(e=>{console.log(e),window.alert("'".concat(e.data.title,"' is created")),window.location.reload()}).catch(e=>{console.log(e),c.oR.error(e.message)})},style:{margin:"20px 0px 0px 0px"},children:[(0,p.jsx)("label",{children:"Title"}),(0,p.jsx)("input",{className:"form-control",type:"text",onChange:E,name:"title",value:u,style:{margin:"10px 0px 0px 0px"}}),(0,p.jsx)("label",{children:"Description"}),(0,p.jsx)("input",{className:"form-control",type:"text",onChange:E,name:"description",value:g,style:{margin:"10px 0px 0px 0px"}}),(0,p.jsx)("label",{children:"Price"}),(0,p.jsx)("input",{className:"form-control",type:"number",onChange:E,name:"price",value:j,style:{margin:"10px 0px 0px 0px"}}),(0,p.jsx)("label",{children:"Shipping"}),(0,p.jsxs)("select",{name:"shipping",className:"form-control",onChange:E,style:{margin:"10px 0px 0px 0px"},children:[(0,p.jsx)("option",{children:"Please select"}),(0,p.jsx)("option",{value:"No",children:"No"}),(0,p.jsx)("option",{value:"Yes",children:"Yes"})]}),(0,p.jsx)("label",{children:"Quantity"}),(0,p.jsx)("input",{className:"form-control",type:"number",onChange:E,name:"quantity",value:f,style:{margin:"10px 0px 0px 0px"}}),(0,p.jsx)("label",{children:"Color"}),(0,p.jsxs)("select",{name:"color",className:"form-control",onChange:E,style:{margin:"10px 0px 0px 0px"},children:[(0,p.jsx)("option",{children:"Please select"}),w.map(e=>(0,p.jsx)("option",{value:e,children:e},e))]}),(0,p.jsx)("label",{children:"Brand"}),(0,p.jsxs)("select",{name:"brand",className:"form-control",onChange:E,style:{margin:"10px 0px 0px 0px"},children:[(0,p.jsx)("option",{children:"Please select"}),S.map(e=>(0,p.jsx)("option",{value:e,children:e},e))]}),(0,p.jsx)("div",{children:"Category"}),(0,p.jsxs)("select",{name:"category",className:"form-control",style:{margin:"10px 0px 0px 0px"},onChange:a=>{a.preventDefault(),t((0,s.A)((0,s.A)({},e),{},{category:a.target.value})),console.log(a.target.value),(0,o.ee)(a.target.value).then(e=>{console.log(e),m(e.data)}).catch(e=>{console.log(e)})},children:[(0,p.jsx)("option",{children:"Please select"}),y.length>0&&y.map(e=>(0,p.jsx)("option",{value:e._id,children:e.name},e._id))]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{children:"Sub Categories"}),(0,p.jsxs)("select",{name:"subs",className:"form-control",style:{margin:"10px 0px 0px 0px"},onChange:E,children:[(0,p.jsx)("option",{children:"Please select"}),x.length>0&&x.map(e=>(0,p.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,p.jsx)("button",{type:"submit",value:"submit",className:"btn btn-info",style:{margin:"10px 0px 0px 0px"},children:"Save"})]})]})]})})};var m=a(3272);a(4706);const u=()=>{const{user:e}=(0,n.d4)(e=>(0,s.A)({},e)),[t,a]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{e&&e.token&&(0,m.V)(e.token).then(e=>{console.log("current admin logged in",e),a(!0)}).catch(e=>{a(!1),console.log(e)})}),t?(0,p.jsx)(x,{}):(0,p.jsx)("h1",{children:"Not authorized to view this page"})}},9335:(e,t,a)=>{e.exports=a.p+"static/media/laptop.00efca79d04f6275b91d.png"}}]);
//# sourceMappingURL=286.de2b96ce.chunk.js.map