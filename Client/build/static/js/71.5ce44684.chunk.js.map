{"version":3,"file":"static/js/71.5ce44684.chunk.js","mappings":"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","sources":["components/cards/ProductCard.js","functions/product.js","components/cards/ProductsListItems.js","components/modal/RatingModal.js","components/cards/SingleProduct.js","pages/Product.js"],"sourcesContent":["import React,{useState} from 'react'\nimport {Card,Tooltip} from 'antd'\nimport laptop from \"../../images/laptop.png\"\nimport {EyeOutlined,ShoppingCartOutlined} from  '@ant-design/icons'\nimport { Link } from \"react-router-dom\";\nimport _ from 'lodash'\nimport { useSelector,useDispatch } from 'react-redux';\n\n\nconst{Meta}=Card\nconst ProductCard = ({product}) => {\n  const dispatch=useDispatch();\n  const{user,cart}=useSelector((state)=>({...state}));\n  const[tooltip,setTooltip]=useState(\"Click to add\")\n    const{title,description,images,slug,price}=product;\n    const handleCart=()=>{\n      let cart=[];\n      if(typeof window!=='undefined'){\n        if(localStorage.getItem('cart')){\n          cart=JSON.parse(localStorage.getItem('cart'))\n        }\n\n        cart.push({\n          ...product,\n          count:1,\n      });\n      let unique=_.uniqWith(cart,_.isEqual)\n\n      localStorage.setItem('cart',JSON.stringify(unique))\n      dispatch({\n        type:\"ADD_TO_CART\",\n        payload:unique,\n      })\n      dispatch({\n        type:\"SET_VISIBLE\",\n        payload:true,\n      })\n      setTooltip('Added')\n      }\n    }\n  return (\n    <>\n    \n      \n    <Card cover={<img src={images && images.length? images[0].url:laptop} style={{height:'350px',objectFit:\"contain\"}}\n      \n    className=\"p-1\"/>}\n    actions={[\n      <Link to={`/product/${slug}`}><EyeOutlined className=\"text-warning\"/><br/>View Product </Link>,\n    <Tooltip title={tooltip}>\n      <a onClick={handleCart}>\n      <ShoppingCartOutlined className=\"text-danger\" /><br/>Add to Cart\n      </a>,\n    </Tooltip>\n    ]}\n    className=\"mb-2\">\n          \n        <Meta title={`${title}-Rs${price}`} description={`${description && description.substring(0,40)}...`}/>\n    </Card> \n    </>\n  )\n}\n\nexport default ProductCard","import axios from 'axios'\nexport const createProduct=async(product,authtoken)=>{\n    return  await axios.post(\"http://localhost:8000/api/product\",product,{headers:{\n        authtoken\n    },\n})\n}\nexport const getProdutByCount=async(count)=>{\n    \n    return  await axios.get(`http://localhost:8000/api/products/${count}`)\n}\nexport const removeProduct=async(slug,authtoken)=>{\n    return  await axios.delete(`http://localhost:8000/api/product/${slug}`,{headers:{\n        authtoken\n    },\n})\n}\nexport const getProduct=async(slug)=>{\n    \n    return  await axios.get(`http://localhost:8000/api/product/${slug}`)\n}\nexport const getProducts=async(sort,order,page)=>{\n    console.log(\"in\")\n    console.log(page)\n    \n   return await axios.post(`http://localhost:8000/api/products`,{\n       sort,\n       order,\n       page,\n   })\n}\nexport const getProductsCount=async()=>{\n    return await axios.get(`http://localhost:8000/api/products/total`);\n}\nexport const productStar=async(productId,star,authtoken)=>{\n    return await axios.put(`http://localhost:8000/api/product/star/${productId}`,{star},{\n        headers:{\n            authtoken\n        }\n    })\n}\nexport const getRelated=async(productId)=>{\n    console.log('rel')\n   return  await axios.get(`http://localhost:8000/api/product/related/${productId}`);\n}\nexport const fetchSearchFilter=async(arg)=>{\n    \n   return  await axios.post(`http://localhost:8000/api/search/filters`,arg);\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst ProductsListItems=({product})=>{\n    const{price,category,subs,color,brand,quantity,sold,shipping}=product\n    return(\n        \n       <ul className=\"list-group\">\n           \n           <li className=\"list-group-item\">\n               Price{\" \"}\n               <span >\n                   ${price}\n               </span>\n           </li>\n           {category &&  <li className=\"list-group-item\">\n               Category:{\" \"}\n               <Link to={`/category/${category.slug}`} className=\"label label-default label-pill pull-xs-right\">\n                    :{category.name}\n               </Link>\n           </li>}\n          \n           {subs &&(<li className=\"list-group-item\">\n               Sub-Category{\" \"}\n               {subs.map((s)=>(\n                   <Link to={`/sub/${s.slug}`} key={s._id} className=\"label label-default label-pill pull-xs-right\">\n                   {s.name}\n               </Link>\n               ))}\n               \n           </li>)}\n           \n           <li className=\"list-group-item\">\n               Shipping{\" \"}\n               <span className=\"label label-default label-pill pull-xs-right\">\n                   :{shipping}\n               </span>\n           </li>\n           <li className=\"list-group-item\">\n               Color{\" \"}\n               <span className=\"label label-default label-pill pull-xs-right\">\n                   :{color}\n               </span>\n           </li>\n           <li className=\"list-group-item\">\n               Brand{\" \"}\n               <span className=\"label label-default label-pill pull-xs-right\">\n                   :{brand}\n               </span>\n           </li>\n           <li className=\"list-group-item\">\n               Available{\" \"}\n               <span className=\"label label-default label-pill pull-xs-right\">\n                   :{quantity}\n               </span>\n           </li>\n           <li className=\"list-group-item\">\n               Sold{\" \"}\n               <span className=\"label label-default label-pill pull-xs-right\">\n                   :{sold}\n               </span>\n           </li>\n       </ul>\n    )\n}\nexport default ProductsListItems","import React,{useState} from \"react\";\nimport {Modal,Button} from 'antd'\nimport {toast} from \"react-toastify\"\nimport {useSelector} from 'react-redux'\nimport {StarOutlined} from '@ant-design/icons'\nimport {useNavigate,useParams} from 'react-router-dom'\n\n\nconst RatingModal=({children})=>{\n    const{user}=useSelector((state)=>({...state}))\n    const[modalVisible,setModalVisible]=useState(false)\n    let history=useNavigate()\n    let params=useParams()\n    const handleModal=()=>{\n        if(user && user.token ){\n            setModalVisible(true);\n        }\n        else{\n            history ({\n                pathname:'/login',\n                state:{from:`product/${params.slug}`}\n            });\n        }\n    };\n    return (\n       \n        <>\n        <div onClick={handleModal} >\n            <StarOutlined className=\"test-danger\" /><br/>{\" \"}\n            {user?\"Leave Rating\":\"Login to leave rating\"}\n\n\n        </div>\n        <Modal\n        title=\"Leave a rating\"\n        centered\n        visible={modalVisible}\n        onOk={()=>{\n            setModalVisible(false)\n            toast.success(\"Thanks for your review \")\n\n        }}\n        onCancel={()=>setModalVisible(false)}\n        \n\n        \n        >\n            {children}\n\n        </Modal>\n        </>\n    )\n}\nexport default RatingModal","import React,{useState} from \"react\";\nimport {Card,Tabs,Tooltip} from 'antd'\nimport {Link} from 'react-router-dom'\nimport {HeartOutlined,ShoppingCartOutlined} from '@ant-design/icons'\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Carousel } from 'react-responsive-carousel';\nimport laptop from \"../../images/laptop.png\"\nimport ProductsListItems from './ProductsListItems'\nimport StarRating from 'react-star-ratings'\nimport RatingModal from \"../modal/RatingModal\";\nimport { useSelector,useDispatch } from 'react-redux';\nimport _ from 'lodash'\n\nconst{Meta}=Card\nconst{TabPane}=Tabs\nconst SingleProduct=({product,onStarClick,star})=>{\n  const dispatch=useDispatch();\n  const{user,cart}=useSelector((state)=>({...state}));\n  const [tooltip,setTooltip]=useState('Click to add')\n    const{title,images,description,_id}=product\n\n    const handleCart=()=>{\n      let cart=[];\n      if(typeof window!=='undefined'){\n        if(localStorage.getItem('cart')){\n          cart=JSON.parse(localStorage.getItem('cart'))\n        }\n\n        cart.push({\n          ...product,\n          count:1,\n      });\n      let unique=_.uniqWith(cart,_.isEqual)\n\n      localStorage.setItem('cart',JSON.stringify(unique))\n      dispatch({\n        type:\"ADD_TO_CART\",\n        payload:unique,\n      })\n      dispatch({\n        type:\"SET_VISIBLE\",\n        payload:true,\n      })\n      setTooltip('Added')\n      }\n    }\n   \n    return(\n        <>\n        \n       \n        <div className=\"container\">\n  <div className=\"row\">\n    <div className=\"col\">\n    {images && images.length ?(<Carousel showArrows={true} autoPlay infiniteLoop>\n            {images && images.map((i)=><img src={i.url} key={i.public_id} />)}\n        </Carousel>):(<Card cover={<img src={images && images.length? images[0].url:laptop} style={{objectFit:\"cover\"}}\n      \n      className=\"p-1\"  />}></Card>)}\n      <Tabs type=\"card\">\n          <TabPane key=\"1\" tab=\"Description\" >\n              {description && description}\n          </TabPane>\n          <TabPane key=\"2\" tab=\"More\" style={{height:\"50px\"}}>\n            Call us\n          </TabPane>\n      </Tabs>\n    </div>\n\n    <div className=\"col\">\n        <h1 className=\"bg-info p-3 \">{title}</h1>\n       \n\n    <Card\n          actions={[\n           <Tooltip title={tooltip}>\n              <a onClick={handleCart}>\n            <ShoppingCartOutlined className=\"text-success\"/><br/>\n            Add to Cart\n            </a>\n           </Tooltip>,\n            <Link to='/'>\n                <HeartOutlined className=\"text-info\" /><br/> Add to Wishlist\n            </Link>,\n             <RatingModal>\n             <StarRating  \n                 name={_id}\n                 numberOfStars={5}\n                 rating={star}\n                 changeRating={onStarClick\n                 }\n                 isSelectable={true}\n                 starRatedColor=\"red\"\n                 \n             />\n             </RatingModal>\n        ]}>\n           \n           <ProductsListItems product={product}/>\n          </Card>\n    </div>\n    \n  </div>\n\n</div>\n        </>\n    )\n}\nexport default SingleProduct","import React from 'react'\nimport { useEffect,useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { getProduct ,getRelated,productStar} from '../functions/product'\nimport SingleProduct from '../components/cards/SingleProduct'\nimport { useSelector } from 'react-redux'\nimport ProductCard from '../components/cards/ProductCard'\nconst Product = () => {\n  const{user}=useSelector((state)=>({...state}))\n\n    const[product,setProduct]=useState([])\n    const[related,setRelated]=useState([])\n    const[star,setStar]=useState(0)\n    let params=useParams()\n    useEffect(()=>{\n        loadProduct()\n    },[])\n    // useEffect(()=>{\n    //   if(product.ratings && user){\n    //     let existingRatingObject=\n    //     product.ratings.find((ele)=>(ele.postedBy.toString()===user._id.toString()))\n    //     existingRatingObject && setStar(existingRatingObject.star); \n    //   }\n    //         //to show current users star here's the code\n\n    // })\n    const loadProduct= async ()=>{\n        getProduct(params.slug).then(res=>{\n            setProduct(res.data)\n            console.log(res.data)\n             getRelated(res.data._id).then(res=>{setRelated(res.data)\n            console.log(res.data)})\n        })\n        \n    }\n    const onStarClick=(newRating,name)=>{\n      setStar(newRating)\n      productStar(name,newRating,user.token)\n      .then(res=>{\n        console.log(res.data)\n      })\n\n\n    }\n  return (\n      <div className='container-fluid'>\n          <div className='row pt-4'>\n            <SingleProduct product={product} onStarClick={onStarClick} star={star}/>\n          </div>\n          <div className='row'>\n            <div className='col text-center pt-5 pb-5'>\n              <hr/>\n              <h4>Related Products</h4>\n              \n              \n              <hr/>\n            </div>\n          </div>\n          <div className='container' >\n            <div className='row'>\n            {related.length ? (related.map((r)=>(\n              <div key={r._id} className=\"col-4\"> <ProductCard product={r}/> </div>\n            ))):(<div> No Product</div>)}\n          </div>\n          </div>\n\n      </div>\n      \n  );\n}\n\nexport default Product"],"names":["Meta","Card","_ref","product","dispatch","useDispatch","user","cart","useSelector","state","_objectSpread","tooltip","setTooltip","useState","title","description","images","slug","price","_jsx","_Fragment","children","cover","src","length","url","laptop","style","height","objectFit","className","actions","_jsxs","Link","to","concat","EyeOutlined","Tooltip","onClick","handleCart","window","localStorage","getItem","JSON","parse","push","count","unique","_","setItem","stringify","type","payload","ShoppingCartOutlined","substring","createProduct","async","authtoken","axios","headers","getProdutByCount","removeProduct","getProduct","getProducts","sort","order","page","console","log","getProductsCount","productStar","productId","star","getRelated","fetchSearchFilter","arg","category","subs","color","brand","quantity","sold","shipping","name","map","s","_id","modalVisible","setModalVisible","history","useNavigate","params","useParams","handleModal","token","pathname","from","StarOutlined","Modal","centered","visible","onOk","toast","success","onCancel","TabPane","Tabs","onStarClick","Carousel","showArrows","autoPlay","infiniteLoop","i","public_id","tab","HeartOutlined","RatingModal","StarRating","numberOfStars","rating","changeRating","isSelectable","starRatedColor","ProductsListItems","Product","setProduct","related","setRelated","setStar","useEffect","loadProduct","then","res","data","SingleProduct","newRating","r","ProductCard"],"sourceRoot":""}