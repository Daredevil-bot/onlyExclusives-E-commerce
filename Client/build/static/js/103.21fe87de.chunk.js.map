{"version":3,"file":"static/js/103.21fe87de.chunk.js","mappings":"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","sources":["functions/category.js","components/cards/ProductCard.js","functions/sub.js","functions/product.js","pages/Shop.js"],"sourcesContent":["import axios from 'axios'\n\nexport const getCategories=async ()=>{\n    return await axios.get(\"http://localhost:8000/api/categories\")\n\n}\nexport const getCategory=async (slug)=>{\n    return await axios.get(`http://localhost:8000/api/category/${slug}`)\n\n}\nexport const deleteCategory=async(slug,authtoken )=>{\n    return await axios.delete(`http://localhost:8000/api/category/${slug}`,{headers:{authtoken}})\n\n\n}\nexport const createCategory=( async (category,authtoken)=>{\n    console.log('hey')\n    return await axios.post(\"http://localhost:8000/api/category\",category,{              //axios is sending request to middleware having url as first argument   \n        headers:{\n            authtoken\n        }\n    })\n})\n\n\n\nexport const updateCategory=async(slug,category,authtoken)=>{\n   \n    return await axios.put(`http://localhost:8000/api/category/${slug}`,category,{headers:{authtoken}})\n\n}\nexport const getCategorySubs=async (_id)=>{\n    \n   return await axios.get(`http://localhost:8000/api/category/subs/${_id}`);\n}","import React,{useState} from 'react'\nimport {Card,Tooltip} from 'antd'\nimport laptop from \"../../images/laptop.png\"\nimport {EyeOutlined,ShoppingCartOutlined} from  '@ant-design/icons'\nimport { Link } from \"react-router-dom\";\nimport _ from 'lodash'\nimport { useSelector,useDispatch } from 'react-redux';\n\n\nconst{Meta}=Card\nconst ProductCard = ({product}) => {\n  const dispatch=useDispatch();\n  const{user,cart}=useSelector((state)=>({...state}));\n  const[tooltip,setTooltip]=useState(\"Click to add\")\n    const{title,description,images,slug,price}=product;\n    const handleCart=()=>{\n      let cart=[];\n      if(typeof window!=='undefined'){\n        if(localStorage.getItem('cart')){\n          cart=JSON.parse(localStorage.getItem('cart'))\n        }\n\n        cart.push({\n          ...product,\n          count:1,\n      });\n      let unique=_.uniqWith(cart,_.isEqual)\n\n      localStorage.setItem('cart',JSON.stringify(unique))\n      dispatch({\n        type:\"ADD_TO_CART\",\n        payload:unique,\n      })\n      dispatch({\n        type:\"SET_VISIBLE\",\n        payload:true,\n      })\n      setTooltip('Added')\n      }\n    }\n  return (\n    <>\n    \n      \n    <Card cover={<img src={images && images.length? images[0].url:laptop} style={{height:'350px',objectFit:\"contain\"}}\n      \n    className=\"p-1\"/>}\n    actions={[\n      <Link to={`/product/${slug}`}><EyeOutlined className=\"text-warning\"/><br/>View Product </Link>,\n    <Tooltip title={tooltip}>\n      <a onClick={handleCart}>\n      <ShoppingCartOutlined className=\"text-danger\" /><br/>Add to Cart\n      </a>,\n    </Tooltip>\n    ]}\n    className=\"mb-2\">\n          \n        <Meta title={`${title}-Rs${price}`} description={`${description && description.substring(0,40)}...`}/>\n    </Card> \n    </>\n  )\n}\n\nexport default ProductCard","import axios from 'axios'\n\nexport const getSubs=async ()=>{\n    return await axios.get(\"http://localhost:8000/api/subs\")\n\n}\nexport const getSub=async (slug)=>{\n    console.log('inaxi')\n    return await axios.get(`http://localhost:8000/api/sub/${slug}`)\n\n}\nexport const deleteSub=async(slug,authtoken )=>{\n    return await axios.delete(`http://localhost:8000/api/sub/${slug}`,{headers:{authtoken}})\n\n\n}\nexport const createSub=( async (sub,authtoken)=>{\n    console.log('hey')\n    return await axios.post(\"http://localhost:8000/api/sub\",sub,{              //axios is sending request to middleware having url as first argument   \n        headers:{\n            authtoken\n        }\n    })\n})\n\n\n\nexport const updateSub=async(slug,sub,authtoken)=>{\n   \n    return await axios.put(`http://localhost:8000/api/sub/${slug}`,sub,{headers:{authtoken}})\n\n}","import axios from 'axios'\nexport const createProduct=async(product,authtoken)=>{\n    return  await axios.post(\"http://localhost:8000/api/product\",product,{headers:{\n        authtoken\n    },\n})\n}\nexport const getProdutByCount=async(count)=>{\n    \n    return  await axios.get(`http://localhost:8000/api/products/${count}`)\n}\nexport const removeProduct=async(slug,authtoken)=>{\n    return  await axios.delete(`http://localhost:8000/api/product/${slug}`,{headers:{\n        authtoken\n    },\n})\n}\nexport const getProduct=async(slug)=>{\n    \n    return  await axios.get(`http://localhost:8000/api/product/${slug}`)\n}\nexport const getProducts=async(sort,order,page)=>{\n    console.log(\"in\")\n    console.log(page)\n    \n   return await axios.post(`http://localhost:8000/api/products`,{\n       sort,\n       order,\n       page,\n   })\n}\nexport const getProductsCount=async()=>{\n    return await axios.get(`http://localhost:8000/api/products/total`);\n}\nexport const productStar=async(productId,star,authtoken)=>{\n    return await axios.put(`http://localhost:8000/api/product/star/${productId}`,{star},{\n        headers:{\n            authtoken\n        }\n    })\n}\nexport const getRelated=async(productId)=>{\n    console.log('rel')\n   return  await axios.get(`http://localhost:8000/api/product/related/${productId}`);\n}\nexport const fetchSearchFilter=async(arg)=>{\n    \n   return  await axios.post(`http://localhost:8000/api/search/filters`,arg);\n}","import React, { useState, useEffect } from 'react'\nimport { getProdutByCount, fetchSearchFilter } from '../functions/product'\nimport { useSelector, useDispatch } from 'react-redux'\nimport ProductCard from '../components/cards/ProductCard'\nimport { Menu, Slider, Checkbox ,Radio} from 'antd'\nimport { DollarOutlined, DownSquareOutlined } from '@ant-design/icons'\nimport { getCategories } from '../functions/category'\nimport { getSubs } from '../functions/sub'\n\nconst Shop = () => {\n    const [products, setProducts] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [price, setPrice] = useState([0, 0])\n    const [categories, setCategories] = useState([])\n    const [categoriesId,setCategoriesId]=useState([])\n    const [ok, setOk] = useState(false)\n    const[subs,setSubs]=useState([])\n    const[sub,setSub]=useState('')\n    const[brands,setBrands]=useState(['Apple','Lenovo','ASUS','Dell','HP','Microsoft','Samsung'])\n    const[brand,setBrand]=useState('')\n    const[colors,setColors]=useState(['Black','Brown','Silver','White','Blue','Red'])\n    const[color,setColor]=useState('')\n    const[shipping,setShipping]=useState('')\n\n    const { search } = useSelector((state) => ({ ...state }))\n\n\n    const { text } = search\n    let dispatch = useDispatch()\n\n    useEffect(() => {\n        loadProducts()\n        getCategories()\n            .then(res => {\n                setCategories(res.data)\n                console.log(res.data)\n            })\n            getSubs().then(res=>setSubs(res.data))\n    }, [])\n    //    {for search query}\n    useEffect(() => {\n        const delayed = setTimeout(() => {\n            fetchProducts({ query: text })\n            if(!text){\n                loadProducts();\n            }\n\n        }, 300)\n        return () => clearTimeout(delayed)\n    }, [text])\n\n    //    {default shop page}\n    const loadProducts = () => {\n        getProdutByCount(10).then((res) => {\n            setLoading(true)\n\n            setProducts(res.data)\n            console.log(res.data)\n            setLoading(false)\n        })\n    }\n    //    {universal function for filter search }\n    const fetchProducts = (arg) => {\n        fetchSearchFilter(arg)\n            .then(res => {\n                setProducts(res.data)\n            })\n    }\n    //    {for price filtering}\n    useEffect(() => {\n        fetchProducts({ price });\n\n    }, [ok])\n    const handleSlider = (value) => {\n        dispatch({\n            type: 'SEARCH_QUERY',\n            payload: { text: '' }\n        })\n        setCategoriesId([])\n        setSub('')\n        setPrice(value)\n        setBrand('')\n        setShipping('')\n        setTimeout(() => {\n            setOk(!ok)\n        }, 300)\n    }\n    const handleClick=(e)=>{\n        dispatch({\n            type: 'SEARCH_QUERY',\n            payload: { text: '' }\n        })\n        setPrice([0,0])\n        setSub('')\n        setBrand('')\n        setShipping('')\n\n        let inTheState=[...categoriesId]\n        let justChecked=e.target.value\n        let foundInTheState=inTheState.indexOf(justChecked)\n\n\n        if(foundInTheState===-1){\n            inTheState.push(justChecked)\n        }\n        else{\n            inTheState.splice(foundInTheState,1)\n        }\n\n        console.log(inTheState)\n        setCategoriesId(inTheState)\n        fetchProducts({category:inTheState})\n    }\n\n    const handleSubmit=(sub)=>{\n        setSub(sub)\n        setBrand('')\n        setShipping('')\n\n        dispatch({\n            type: 'SEARCH_QUERY',\n            payload: { text: '' }\n        })\n        setPrice([0,0])\n        setCategoriesId([])\n        fetchProducts({sub})\n\n    }\n    const handleBrand=(e)=>{\n        setSub('')\n        setShipping('')\n\n        dispatch({\n            type: 'SEARCH_QUERY',\n            payload: { text: '' }\n        })\n        setPrice([0,0])\n        setCategoriesId([])\n        setBrand(e.target.value)\n        fetchProducts({brand:e.target.value})\n    }\n    const handleColor=(e)=>{\n        setSub('')\n        dispatch({\n            type: 'SEARCH_QUERY',\n            payload: { text: '' }\n        })\n        setShipping('')\n\n        setPrice([0,0])\n        setCategoriesId([])\n        setBrand('')\n        setColor(e.target.value)\n        fetchProducts({color:e.target.value})\n    }\n\n    const handleShipping=(e)=>{\n        setSub('')\n        dispatch({\n            type: 'SEARCH_QUERY',\n            payload: { text: '' }\n        })\n        setPrice([0,0])\n        setCategoriesId([])\n        setBrand('')\n        setColor('')\n        setShipping(e.target.value)\n        fetchProducts({shipping:e.target.value})\n    }\n\n    const { SubMenu } = Menu\n\n    return (\n        <div className='container-fluid'>\n            <div className='row'>\n                <div className='col-3'>\n                    <h4>Search/Filter</h4>\n                    <hr />\n                    <Menu defaultOpenKeys={['1', '2','3','4','5','6']} mode='inline'>\n                        <SubMenu key='1' title={<span className='h6'><DollarOutlined /> Price</span>}>\n                            <div>\n                                <Slider className='ml-4 mr-4'\n                                    tipFormatter={(v) => `Rs${v}`}\n                                    range\n                                    value={price}\n                                    onChange={handleSlider}\n                                    max='150000'\n                                />\n                            </div>\n                        </SubMenu>\n                        <SubMenu key='2' title={<span className='h6'><DownSquareOutlined /> Catgories</span>}>\n                            <div style={{ margin: '10px' }}>\n                                {categories.map((c) => (\n                                    <div key={c._id}>\n                                        <Checkbox onChange={handleClick} className=' m-1 pl-4 pr-4 pb-2 badge bg-light block' value={c._id} name='category' checked={categoriesId.includes(c._id)}>\n                                            {c.name}\n                                        </Checkbox>\n\n                                    </div>\n                                ))}\n                            </div>\n                        </SubMenu>\n                        <SubMenu key='3' title={<span className='h6'><DownSquareOutlined /> Sub-Catgories</span>}>\n                            <div >\n                                {subs.map((s) => (\n                                    <div key={s._id} style={{ margin: '10px' }}>\n                                        <Checkbox  onChange={()=>handleSubmit(s)} className=' m-1 pl-4 pr-4 pb-2 badge bg-light block ' value={s._id} name='category' >\n                                            {s.name}\n                                        </Checkbox>\n\n                                    </div>\n                                ))}\n                            </div>\n                        </SubMenu>\n                        <SubMenu key='4' title={<span className='h6'><DownSquareOutlined /> Brands</span>}>\n                            <div >\n                                {brands.map((b) => (\n                                    <div key={b} style={{ margin: '10px' }}>\n                                        <Radio  onChange={handleBrand} className='  m-1 pl-4 pr-4 pb-2 badge bg-light block ' value={b} name='brand' checked={b===brand} >\n                                            {b}\n                                        </Radio>\n\n                                    </div>\n                                ))}\n                            </div>\n                        </SubMenu>\n                        <SubMenu key='5' title={<span className='h6'><DownSquareOutlined /> Colors</span>}>\n                            <div >\n                                {colors.map((c) => (\n                                    <div key={c} style={{ margin: '10px' }}>\n                                        <Radio  onChange={handleColor} className='  m-1 pl-6 pr-4 pb-2 badge bg-light block' value={c} name='color' checked={c===color} >\n                                            {c}\n                                        </Radio>\n\n                                    </div>\n                                ))}\n                            </div>\n                        </SubMenu>\n                        <SubMenu key='6' title={<span className='h6'><DownSquareOutlined /> Shipping</span>}>\n                           \n                               <Checkbox onChange={handleShipping} className=' m-3 pl-4 pr-4 pb-2 badge bg-light block ' value=\"Yes\" checked={shipping==='Yes'} >\n                                            Yes\n\n                               </Checkbox>\n                               <Checkbox onChange={handleShipping} className=' m-3 pl-4 pr-4 pb-2 badge bg-light  ' value=\"No\" checked={shipping==='No'} >\n                                            No\n\n                               </Checkbox>\n                            \n                        </SubMenu>\n\n                    </Menu>\n\n                </div>\n                <div className='col-9'>\n                    {loading ? (<h4 className='text-danger'>Loading..</h4>) : (<h4 className='text-danger'>Products</h4>)}\n\n                    {products.length < 1 && <p>No Products found</p>}\n\n                    <div className='row'>\n                        {products.map((p) => (\n                            <div key={p._id} className='col-4 mt-5'>\n                                <ProductCard product={p} />\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Shop"],"names":["getCategories","async","axios","getCategory","concat","slug","deleteCategory","authtoken","headers","createCategory","category","console","log","updateCategory","getCategorySubs","_id","Meta","Card","_ref","product","dispatch","useDispatch","user","cart","useSelector","state","_objectSpread","tooltip","setTooltip","useState","title","description","images","price","_jsx","_Fragment","children","cover","src","length","url","laptop","style","height","objectFit","className","actions","_jsxs","Link","to","EyeOutlined","Tooltip","onClick","handleCart","window","localStorage","getItem","JSON","parse","push","count","unique","_","setItem","stringify","type","payload","ShoppingCartOutlined","substring","getSubs","getSub","deleteSub","createSub","sub","createProduct","getProdutByCount","removeProduct","getProduct","getProducts","sort","order","page","getProductsCount","productStar","productId","star","getRelated","fetchSearchFilter","arg","Shop","products","setProducts","loading","setLoading","setPrice","categories","setCategories","categoriesId","setCategoriesId","ok","setOk","subs","setSubs","setSub","brands","setBrands","brand","setBrand","colors","setColors","color","setColor","shipping","setShipping","search","text","useEffect","loadProducts","then","res","data","delayed","setTimeout","fetchProducts","query","clearTimeout","handleClick","e","inTheState","justChecked","target","value","foundInTheState","indexOf","splice","handleBrand","handleColor","handleShipping","SubMenu","Menu","defaultOpenKeys","mode","DollarOutlined","Slider","tipFormatter","v","range","onChange","max","DownSquareOutlined","margin","map","c","Checkbox","name","checked","includes","s","handleSubmit","b","Radio","p","ProductCard"],"sourceRoot":""}