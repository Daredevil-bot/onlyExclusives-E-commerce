"use strict";(self.webpackChunkecommerce_app=self.webpackChunkecommerce_app||[]).push([[331],{1331:(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});var a=s(5043),c=s(2848),o=s(3216),l=s(2348),n=s(579);const i=()=>{const[t,e]=(0,a.useState)({}),[s,i]=(0,a.useState)([]),[r,d]=(0,a.useState)(!1);let u=(0,o.g)();const{slug:h}=u;return(0,a.useEffect)(()=>{d(!0),console.log("inuse"),(0,c.Vt)(h).then(t=>{console.log("subs"),e(t.data.sub),console.log(JSON.stringify(t.data),null,4),i(t.data.products),d(!1)})},[]),(0,n.jsxs)("div",{className:"container-fluid",children:[(0,n.jsx)("div",{className:"row",children:r?(0,n.jsx)("h4",{className:"mt p-2 bg-light text-black rounded h1  text-center",children:"Loading..."}):(0,n.jsxs)("h4",{className:"mt-4 mb-5 p-4 bg-light text-black rounded text-center  font-weight-italic",children:[s.length,' Products in "',t.name,'" sub category']})}),(0,n.jsx)("div",{className:"row",children:s.map(t=>(0,n.jsxs)("div",{className:"col",children:[(0,n.jsx)(l.A,{product:t})," "]},t._id))})]})}},2348:(t,e,s)=>{s.d(e,{A:()=>x});var a=s(9379),c=s(5043),o=s(6655),l=s(976),n=s(9335),i=s(6191),r=s(3761),d=s(5475),u=s(3536),h=s.n(u),p=s(4556),g=s(579);const{Meta:m}=o.A,x=t=>{let{product:e}=t;const s=(0,p.wA)(),{user:u,cart:x}=(0,p.d4)(t=>(0,a.A)({},t)),[b,j]=(0,c.useState)("Click to add"),{title:y,description:A,images:f,slug:w,price:N}=e;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(o.A,{cover:(0,g.jsx)("img",{src:f&&f.length?f[0].url:n,style:{height:"350px",objectFit:"contain"},className:"p-1"}),actions:[(0,g.jsxs)(d.N_,{to:"/product/".concat(w),children:[(0,g.jsx)(i.A,{className:"text-warning"}),(0,g.jsx)("br",{}),"View Product "]}),(0,g.jsxs)(l.A,{title:b,children:[(0,g.jsxs)("a",{onClick:()=>{let t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,a.A)((0,a.A)({},e),{},{count:1}));let c=h().uniqWith(t,h().isEqual);localStorage.setItem("cart",JSON.stringify(c)),s({type:"ADD_TO_CART",payload:c}),s({type:"SET_VISIBLE",payload:!0}),j("Added")}},children:[(0,g.jsx)(r.A,{className:"text-danger"}),(0,g.jsx)("br",{}),"Add to Cart"]}),","]})],className:"mb-2",children:(0,g.jsx)(m,{title:"".concat(y,"-Rs").concat(N),description:"".concat(A&&A.substring(0,40),"...")})})})}},2848:(t,e,s)=>{s.d(e,{P1:()=>i,Vt:()=>l,cH:()=>n,y:()=>o});var a=s(854),c=s.n(a);const o=async()=>await c().get("http://localhost:8000/api/subs"),l=async t=>(console.log("inaxi"),await c().get("http://localhost:8000/api/sub/".concat(t))),n=async(t,e)=>await c().delete("http://localhost:8000/api/sub/".concat(t),{headers:{authtoken:e}}),i=async(t,e)=>(console.log("hey"),await c().post("http://localhost:8000/api/sub",t,{headers:{authtoken:e}}))},9335:(t,e,s)=>{t.exports=s.p+"static/media/laptop.00efca79d04f6275b91d.png"}}]);
//# sourceMappingURL=331.1b187556.chunk.js.map