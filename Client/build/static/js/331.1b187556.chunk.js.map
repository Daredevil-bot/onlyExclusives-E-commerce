{"version":3,"file":"static/js/331.1b187556.chunk.js","mappings":"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","sources":["pages/sub/SubHome.js","components/cards/ProductCard.js","functions/sub.js"],"sourcesContent":["import React ,{useState}from 'react'\nimport { getSub } from '../../functions/sub'\nimport { useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport ProductCard from '../../components/cards/ProductCard'\n\n\nconst SubHome = () => {\n    const [sub,setSub]=useState({})\n    const[products,setProducts]=useState([])\n    const[loading,setLoading]=useState(false)\n\n    let params=useParams()\n    const{slug}=params\n    useEffect(()=>{\n        setLoading(true)\n        console.log('inuse')\n        getSub(slug)\n        .then((res)=>{\n            console.log('subs')\n            setSub(res.data.sub)\n            console.log(JSON.stringify(res.data),null,4)\n            setProducts(res.data.products)\n            setLoading(false)\n        })\n    },[])\n\n  return (\n    <div className='container-fluid'>\n      <div className='row'>\n        {loading ?(<h4 className='mt p-2 bg-light text-black rounded h1  text-center'>Loading...</h4>):(\n            <h4 className='mt-4 mb-5 p-4 bg-light text-black rounded text-center  font-weight-italic'>{products.length} Products in \"{sub.name}\" sub category</h4>\n        )}\n        </div>\n        <div className='row'>\n          {products.map((p)=>(\n            <div className='col' key={p._id}><ProductCard product={p}/> </div>\n          ))}\n        </div>\n    </div>\n  )\n}\n\nexport default SubHome","import React,{useState} from 'react'\nimport {Card,Tooltip} from 'antd'\nimport laptop from \"../../images/laptop.png\"\nimport {EyeOutlined,ShoppingCartOutlined} from  '@ant-design/icons'\nimport { Link } from \"react-router-dom\";\nimport _ from 'lodash'\nimport { useSelector,useDispatch } from 'react-redux';\n\n\nconst{Meta}=Card\nconst ProductCard = ({product}) => {\n  const dispatch=useDispatch();\n  const{user,cart}=useSelector((state)=>({...state}));\n  const[tooltip,setTooltip]=useState(\"Click to add\")\n    const{title,description,images,slug,price}=product;\n    const handleCart=()=>{\n      let cart=[];\n      if(typeof window!=='undefined'){\n        if(localStorage.getItem('cart')){\n          cart=JSON.parse(localStorage.getItem('cart'))\n        }\n\n        cart.push({\n          ...product,\n          count:1,\n      });\n      let unique=_.uniqWith(cart,_.isEqual)\n\n      localStorage.setItem('cart',JSON.stringify(unique))\n      dispatch({\n        type:\"ADD_TO_CART\",\n        payload:unique,\n      })\n      dispatch({\n        type:\"SET_VISIBLE\",\n        payload:true,\n      })\n      setTooltip('Added')\n      }\n    }\n  return (\n    <>\n    \n      \n    <Card cover={<img src={images && images.length? images[0].url:laptop} style={{height:'350px',objectFit:\"contain\"}}\n      \n    className=\"p-1\"/>}\n    actions={[\n      <Link to={`/product/${slug}`}><EyeOutlined className=\"text-warning\"/><br/>View Product </Link>,\n    <Tooltip title={tooltip}>\n      <a onClick={handleCart}>\n      <ShoppingCartOutlined className=\"text-danger\" /><br/>Add to Cart\n      </a>,\n    </Tooltip>\n    ]}\n    className=\"mb-2\">\n          \n        <Meta title={`${title}-Rs${price}`} description={`${description && description.substring(0,40)}...`}/>\n    </Card> \n    </>\n  )\n}\n\nexport default ProductCard","import axios from 'axios'\n\nexport const getSubs=async ()=>{\n    return await axios.get(\"http://localhost:8000/api/subs\")\n\n}\nexport const getSub=async (slug)=>{\n    console.log('inaxi')\n    return await axios.get(`http://localhost:8000/api/sub/${slug}`)\n\n}\nexport const deleteSub=async(slug,authtoken )=>{\n    return await axios.delete(`http://localhost:8000/api/sub/${slug}`,{headers:{authtoken}})\n\n\n}\nexport const createSub=( async (sub,authtoken)=>{\n    console.log('hey')\n    return await axios.post(\"http://localhost:8000/api/sub\",sub,{              //axios is sending request to middleware having url as first argument   \n        headers:{\n            authtoken\n        }\n    })\n})\n\n\n\nexport const updateSub=async(slug,sub,authtoken)=>{\n   \n    return await axios.put(`http://localhost:8000/api/sub/${slug}`,sub,{headers:{authtoken}})\n\n}"],"names":["SubHome","sub","setSub","useState","products","setProducts","loading","setLoading","params","useParams","slug","useEffect","console","log","getSub","then","res","data","JSON","stringify","_jsxs","className","children","_jsx","length","name","map","p","ProductCard","product","_id","Meta","Card","_ref","dispatch","useDispatch","user","cart","useSelector","state","_objectSpread","tooltip","setTooltip","title","description","images","price","_Fragment","cover","src","url","laptop","style","height","objectFit","actions","Link","to","concat","EyeOutlined","Tooltip","onClick","handleCart","window","localStorage","getItem","parse","push","count","unique","_","setItem","type","payload","ShoppingCartOutlined","substring","getSubs","async","axios","deleteSub","authtoken","headers","createSub"],"sourceRoot":""}